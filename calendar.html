<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mood Calendar</title>
  <link rel="stylesheet" href="/styles.css" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f9f9ff;
      padding: 2rem;
      color: #333;
    }

    h1 {
      text-align: center;
      color: #555;
    }

    #calendar {
      width: 100%;
      border-collapse: collapse;
      margin-top: 2rem;
    }

    #calendar th, #calendar td {
      border: 1px solid #ddd;
      text-align: center;
      padding: 1rem;
      height: 80px;
      vertical-align: top;
      position: relative;
    }

    #calendar td .mood-circle {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      display: inline-block;
      margin: 1px;
    }

    #calendar td.today {
      border: 2px solid #1E90FF;
    }

    .color-black { background-color: #000000; }
    .color-grey { background-color: #666666; }
    .color-brown { background-color: #8B4513; }
    .color-amber { background-color: #FFBF00; }
    .color-green { background-color: #00FF00; }
    .color-bluegreen { background-color: #00CED1; }
    .color-blue { background-color: #1E90FF; }
    .color-violet { background-color: #9400D3; }
    .color-pink { background-color: #FF66CC; }
    .color-gold { background-color: #FFD700; }
  </style>
</head>
<body>
  <h1>Mood Calendar</h1>
  <table id="calendar"></table>

  <script>
    const moods = [
      { name: 'Black', color: 'black' },
      { name: 'Grey', color: 'grey' },
      { name: 'Brown', color: 'brown' },
      { name: 'Amber', color: 'amber' },
      { name: 'Green', color: 'green' },
      { name: 'BlueGreen', color: 'bluegreen' },
      { name: 'Blue', color: 'blue' },
      { name: 'Violet', color: 'violet' },
      { name: 'Pink', color: 'pink' },
      { name: 'Gold', color: 'gold' }
    ];

    const calendar = document.getElementById('calendar');
    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth();

    const firstDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    // Simulated mood storage for demo
    const moodStorage = {};

    function renderCalendar() {
      let html = '<tr>';
      const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
      weekdays.forEach(day => html += `<th>${day}</th>`);
      html += '</tr><tr>';

      let day = 1;
      for (let i = 0; i < 42; i++) {
        if (i < firstDay || day > daysInMonth) {
          html += '<td></td>';
        } else {
          const dateKey = `${year}-${month + 1}-${day}`;
          const todayClass = (day === now.getDate()) ? 'today' : '';
          html += `<td class="${todayClass}" onclick="addMood('${dateKey}', this)">
            <div>${day}</div>
            <div class="moods" id="moods-${dateKey}"></div>
          </td>`;
          day++;
        }
        if ((i + 1) % 7 === 0 && day <= daysInMonth) html += '</tr><tr>';
      }

      html += '</tr>';
      calendar.innerHTML = html;
    }

    function addMood(dateKey, cell) {
      const mood = prompt("Enter mood color (black, grey, brown, amber, green, bluegreen, blue, violet, pink, gold):");
      if (!moods.some(m => m.color === mood)) {
        alert("Invalid mood color.");
        return;
      }

      if (!moodStorage[dateKey]) moodStorage[dateKey] = [];
      moodStorage[dateKey].push(mood);
      renderMoods(dateKey);
    }

    function renderMoods(dateKey) {
      const moodDiv = document.getElementById(`moods-${dateKey}`);
      if (!moodDiv) return;
      moodDiv.innerHTML = '';

      moodStorage[dateKey].forEach(color => {
        const span = document.createElement('span');
        span.className = `mood-circle color-${color}`;
        moodDiv.appendChild(span);
      });
    }

    renderCalendar();
  </script>
</body>
</html>
